<div class="container">
  <div class="row d-flex justify-content-center">
    <div class="col-md-6 mt-4 p-2">
      <h1 class="text-center">Public Recipes List</h1>

      <% if @public_recipes.empty? %>
        <p class="alert alert-info">No recipes added yet. Please add a new recipe.</p>
      <% else %>
        <% @public_recipes.each do |user| %>
          <% user.recipes.each do |recipe| %>
            <div class="row border mb-4">
              <div class="col-4 p-2 text-start">
                <%= link_to recipe.name, recipe_path(recipe), class: 'nav-link mb-3 fs-4 link-dark' %>
                <span class="p-4 mb-3">By: <%= user.name %></span>
              </div>
              <div class="col p-2 text-end p-4">
                <p>Total food items: <%= recipe.foods.count %></p>
                <p>Total price: <%= recipe.foods.sum(:price) %></p>
              </div>
            </div>
          <% end %>
        <% end %>
      <% end %>
    </div>
  </div>
</div>

